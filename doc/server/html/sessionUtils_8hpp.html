<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>core/src/utils/sessionUtils.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>core/src/utils/sessionUtils.hpp File Reference</h1>  </div>
</div>
<div class="contents">

<p>This file contains a declaration of class to handle a storage of session key.  
<a href="#_details">More...</a></p>
<code>#include &lt;fstream&gt;</code><br/>
<code>#include &lt;vector&gt;</code><br/>
<code>#include &lt;iostream&gt;</code><br/>
<code>#include &lt;sstream&gt;</code><br/>
<code>#include &lt;boost/foreach.hpp&gt;</code><br/>
<code>#include &lt;boost/archive/text_iarchive.hpp&gt;</code><br/>
<code>#include &lt;boost/archive/text_oarchive.hpp&gt;</code><br/>
<code>#include &lt;boost/serialization/list.hpp&gt;</code><br/>

<p><a href="sessionUtils_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSessionEntry.html">SessionEntry</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A helper class to handle session authentication.  <a href="classSessionEntry.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5b2b62f201b69da3c994bcccdd743604"></a><!-- doxytag: member="sessionUtils.hpp::SessionContainer" ref="a5b2b62f201b69da3c994bcccdd743604" args="" -->
typedef std::list&lt; <a class="el" href="classSessionEntry.html">SessionEntry</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessionUtils_8hpp.html#a5b2b62f201b69da3c994bcccdd743604">SessionContainer</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A container for session. <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="sessionUtils_8hpp.html#af8708b3809bf1b15de5ab67b72b3695c">saveIntoFile</a> (<a class="el" href="sessionUtils_8hpp.html#a5b2b62f201b69da3c994bcccdd743604">SessionContainer</a> &amp;allSessions, const char *file)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To record sessions in a file.  <a href="#af8708b3809bf1b15de5ab67b72b3695c"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="sessionUtils_8hpp.html#a512a76d75ea4bccbf5e547fba43b288f">getFromFile</a> (<a class="el" href="sessionUtils_8hpp.html#a5b2b62f201b69da3c994bcccdd743604">SessionContainer</a> &amp;allSessions, const char *file)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To load all sessions stored in a file.  <a href="#a512a76d75ea4bccbf5e547fba43b288f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="sessionUtils_8hpp.html#a5b2b62f201b69da3c994bcccdd743604">SessionContainer</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessionUtils_8hpp.html#aaca31098f5494c62c5b33c95d74ae102">getAllSessions</a> (const std::string &amp;terminal)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">helper function which which wrappes getFromFile function and ensures that all error exception is catched .  <a href="#aaca31098f5494c62c5b33c95d74ae102"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessionUtils_8hpp.html#ae3f37a11728af1a93673b029668dc6e0">storeLastSession</a> (const <a class="el" href="classSessionEntry.html">SessionEntry</a> &amp;session, const std::string &amp;terminal)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To store a the current session running in a terminal in the file.  <a href="#ae3f37a11728af1a93673b029668dc6e0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSessionEntry.html">SessionEntry</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessionUtils_8hpp.html#a5d3fe9881f446699acee7f21c84d5d97">getLastSession</a> (const std::string &amp;terminal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessionUtils_8hpp.html#af765ba0d97fc2960174a666aaf87f26b">removeLastSession</a> (const std::string &amp;terminal)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To remove the last entry of session from the file.  <a href="#af765ba0d97fc2960174a666aaf87f26b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessionUtils_8hpp.html#aa3d509dce20e70fd5ec581d8f2743b5b">getSessionLocation</a> (int tpid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To get the path of the file in which the sessions open from a terminal had been stored.  <a href="#aa3d509dce20e70fd5ec581d8f2743b5b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessionUtils_8hpp.html#af74f199202d5f3c6530d187229fba3d0">storeLastSession</a> (const std::string &amp;sessionKey, int closePolicy, int ppid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Another function to store last session open.  <a href="#af74f199202d5f3c6530d187229fba3d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessionUtils_8hpp.html#a75cb918af5ef4da1c42114cc433ac24f">getLastSessionKey</a> (int ppid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To get the last session key.  <a href="#a75cb918af5ef4da1c42114cc433ac24f"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This file contains a declaration of class to handle a storage of session key. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aaca31098f5494c62c5b33c95d74ae102"></a><!-- doxytag: member="sessionUtils.hpp::getAllSessions" ref="aaca31098f5494c62c5b33c95d74ae102" args="(const std::string &amp;terminal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sessionUtils_8hpp.html#a5b2b62f201b69da3c994bcccdd743604">SessionContainer</a> getAllSessions </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>terminal</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>helper function which which wrappes getFromFile function and ensures that all error exception is catched . </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>terminal,:</em>&nbsp;</td><td>the file corresponding to the terminal which launched the serialization process </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>all sessions stored into the file or an empty container </dd></dl>

</div>
</div>
<a class="anchor" id="a512a76d75ea4bccbf5e547fba43b288f"></a><!-- doxytag: member="sessionUtils.hpp::getFromFile" ref="a512a76d75ea4bccbf5e547fba43b288f" args="(SessionContainer &amp;allSessions, const char *file)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void getFromFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sessionUtils_8hpp.html#a5b2b62f201b69da3c994bcccdd743604">SessionContainer</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>allSessions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To load all sessions stored in a file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>allSessions,:</em>&nbsp;</td><td>The sessions stored in the file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>: The file storing the sessions </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>:</em>&nbsp;</td><td>raises a Boost archive exception </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5d3fe9881f446699acee7f21c84d5d97"></a><!-- doxytag: member="sessionUtils.hpp::getLastSession" ref="a5d3fe9881f446699acee7f21c84d5d97" args="(const std::string &amp;terminal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSessionEntry.html">SessionEntry</a> getLastSession </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>terminal</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>To get the last open session corrseponding to the last session stored in the file </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>terminal</em>&nbsp;</td><td>: The terminal in which the session was running </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The last stored session </dd></dl>

</div>
</div>
<a class="anchor" id="a75cb918af5ef4da1c42114cc433ac24f"></a><!-- doxytag: member="sessionUtils.hpp::getLastSessionKey" ref="a75cb918af5ef4da1c42114cc433ac24f" args="(int ppid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string getLastSessionKey </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ppid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To get the last session key. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ppid,:</em>&nbsp;</td><td>The identifier of the terminal as process in which the session had been open </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The key of the last session open from the terminal </dd></dl>

</div>
</div>
<a class="anchor" id="aa3d509dce20e70fd5ec581d8f2743b5b"></a><!-- doxytag: member="sessionUtils.hpp::getSessionLocation" ref="aa3d509dce20e70fd5ec581d8f2743b5b" args="(int tpid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string getSessionLocation </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tpid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To get the path of the file in which the sessions open from a terminal had been stored. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tpid</em>&nbsp;</td><td>: the identifier of the terminal as process </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the path of the file in which the sessions open from the terminal had been stored </dd></dl>

</div>
</div>
<a class="anchor" id="af765ba0d97fc2960174a666aaf87f26b"></a><!-- doxytag: member="sessionUtils.hpp::removeLastSession" ref="af765ba0d97fc2960174a666aaf87f26b" args="(const std::string &amp;terminal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void removeLastSession </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>terminal</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To remove the last entry of session from the file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>terminal</em>&nbsp;</td><td>: The terminal in which the session was running </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af8708b3809bf1b15de5ab67b72b3695c"></a><!-- doxytag: member="sessionUtils.hpp::saveIntoFile" ref="af8708b3809bf1b15de5ab67b72b3695c" args="(SessionContainer &amp;allSessions, const char *file)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void saveIntoFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sessionUtils_8hpp.html#a5b2b62f201b69da3c994bcccdd743604">SessionContainer</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>allSessions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To record sessions in a file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>allSessions,:</em>&nbsp;</td><td>A set of sessions which will be stored in the file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>: the path of the file </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>:</em>&nbsp;</td><td>raises a Boost archive exception </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae3f37a11728af1a93673b029668dc6e0"></a><!-- doxytag: member="sessionUtils.hpp::storeLastSession" ref="ae3f37a11728af1a93673b029668dc6e0" args="(const SessionEntry &amp;session, const std::string &amp;terminal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void storeLastSession </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSessionEntry.html">SessionEntry</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>terminal</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To store a the current session running in a terminal in the file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>: the current session </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>terminal,:</em>&nbsp;</td><td>The terminal in which the session is running </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af74f199202d5f3c6530d187229fba3d0"></a><!-- doxytag: member="sessionUtils.hpp::storeLastSession" ref="af74f199202d5f3c6530d187229fba3d0" args="(const std::string &amp;sessionKey, int closePolicy, int ppid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void storeLastSession </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>sessionKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>closePolicy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ppid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Another function to store last session open. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sessionKey,:</em>&nbsp;</td><td>The key of the session which will be stored </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>closePolicy,:</em>&nbsp;</td><td>The session close type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ppid,:</em>&nbsp;</td><td>The identifier of the terminal as process </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Mar 8 2011 16:18:49 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
